{"ast":null,"code":"import { useSelector } from \"react-redux\";\nimport { cityFranshisesSliceActions } from \"..\";\nimport { normolizeEntities } from \"../../helpers/normalizeEntites\";\nimport { selectCityFranshisesIds } from \"../selectors\";\nexport const getCityFransheses = _ref => {\n  let {\n    userId\n  } = _ref;\n  return (dispatch, getState) => {\n    var _selectCityFranshises;\n    if (((_selectCityFranshises = selectCityFranshisesIds(getState())) === null || _selectCityFranshises === void 0 ? void 0 : _selectCityFranshises.length) > 0) {\n      return;\n    }\n    const options = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json;charset=utf-8\"\n      },\n      body: JSON.stringify({\n        id: userId\n      })\n    };\n    dispatch(cityFranshisesSliceActions.startLoading());\n    fetch(\"https://wsuno.xyz/api/getcityfran\", options).then(res => res.json()).then(data => {\n      if (!data.OK) {\n        throw Error(data.error);\n      }\n      dispatch(cityFranshisesSliceActions.successLoading(normolizeEntities(data.result)));\n    }).catch(err => {\n      console.log(err);\n      dispatch(cityFranshisesSliceActions.failLoading(err));\n    });\n  };\n};","map":{"version":3,"names":["useSelector","cityFranshisesSliceActions","normolizeEntities","selectCityFranshisesIds","getCityFransheses","userId","dispatch","getState","length","options","method","headers","body","JSON","stringify","id","startLoading","fetch","then","res","json","data","OK","Error","error","successLoading","result","catch","err","console","log","failLoading"],"sources":["D:/dev/uno/src/store/CityFranshises/Thunks/getCityFransheses.js"],"sourcesContent":["import { useSelector } from \"react-redux\";\r\nimport { cityFranshisesSliceActions } from \"..\";\r\nimport { normolizeEntities } from \"../../helpers/normalizeEntites\";\r\nimport { selectCityFranshisesIds } from \"../selectors\";\r\n\r\nexport const getCityFransheses =\r\n  ({ userId }) =>\r\n  (dispatch, getState) => {\r\n    if (selectCityFranshisesIds(getState())?.length > 0) {\r\n      return;\r\n    }\r\n    const options = {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=utf-8\",\r\n      },\r\n      body: JSON.stringify({\r\n        id: userId,\r\n      }),\r\n    };\r\n    dispatch(cityFranshisesSliceActions.startLoading());\r\n\r\n    fetch(\"https://wsuno.xyz/api/getcityfran\", options)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (!data.OK) {\r\n          throw Error(data.error);\r\n        }\r\n        dispatch(\r\n          cityFranshisesSliceActions.successLoading(\r\n            normolizeEntities(data.result)\r\n          )\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        dispatch(cityFranshisesSliceActions.failLoading(err));\r\n      });\r\n  };\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,aAAa;AACzC,SAASC,0BAA0B,QAAQ,IAAI;AAC/C,SAASC,iBAAiB,QAAQ,gCAAgC;AAClE,SAASC,uBAAuB,QAAQ,cAAc;AAEtD,OAAO,MAAMC,iBAAiB,GAC5B;EAAA,IAAC;IAAEC;EAAO,CAAC;EAAA,OACX,CAACC,QAAQ,EAAEC,QAAQ,KAAK;IAAA;IACtB,IAAI,0BAAAJ,uBAAuB,CAACI,QAAQ,EAAE,CAAC,0DAAnC,sBAAqCC,MAAM,IAAG,CAAC,EAAE;MACnD;IACF;IACA,MAAMC,OAAO,GAAG;MACdC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBC,EAAE,EAAEV;MACN,CAAC;IACH,CAAC;IACDC,QAAQ,CAACL,0BAA0B,CAACe,YAAY,EAAE,CAAC;IAEnDC,KAAK,CAAC,mCAAmC,EAAER,OAAO,CAAC,CAChDS,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,EAAE,CAAC,CACzBF,IAAI,CAAEG,IAAI,IAAK;MACd,IAAI,CAACA,IAAI,CAACC,EAAE,EAAE;QACZ,MAAMC,KAAK,CAACF,IAAI,CAACG,KAAK,CAAC;MACzB;MACAlB,QAAQ,CACNL,0BAA0B,CAACwB,cAAc,CACvCvB,iBAAiB,CAACmB,IAAI,CAACK,MAAM,CAAC,CAC/B,CACF;IACH,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;MACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChBtB,QAAQ,CAACL,0BAA0B,CAAC8B,WAAW,CAACH,GAAG,CAAC,CAAC;IACvD,CAAC,CAAC;EACN,CAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}