{"ast":null,"code":"import _slicedToArray from\"D:/dev/uno/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import classNames from\"classnames\";import{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{selectUserDataById}from\"../../store/Users/selectors\";import{editUser}from\"../../store/Users/Thunks/editUser\";import{InputPhone}from\"../../UI/InputPhone/InputPhone\";import{InputText}from\"../../UI/InputText/InputText\";import{FormElem}from\"../FormElem/FormElem\";import styles from\"./styles.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var EditUserForm=function EditUserForm(_ref){var togglePopup=_ref.togglePopup,id=_ref.id,resetSelectedRow=_ref.resetSelectedRow;var userData=useSelector(function(state){return selectUserDataById(state,{id:id});});var dispatch=useDispatch();var _useState=useState(userData!==null&&userData!==void 0&&userData.EMAIL?userData.EMAIL:\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(userData!==null&&userData!==void 0&&userData.NAME?userData.NAME:\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(userData!==null&&userData!==void 0&&userData.PHONE?userData.PHONE:\"\"),_useState6=_slicedToArray(_useState5,2),phone=_useState6[0],setPhone=_useState6[1];var onSubmit=function onSubmit(event){event.preventDefault();dispatch(editUser({idAccess:localStorage.userIdAccess/1,email:email,name:name,phone:phone,id:id}));resetSelectedRow();togglePopup();};return/*#__PURE__*/_jsxs(FormElem,{onSubmit:onSubmit,title:\"Редактирование пользователя\",children:[/*#__PURE__*/_jsx(InputText,{value:name,setValue:setName,label:\"Наименование\"}),/*#__PURE__*/_jsx(InputText,{value:email,setValue:setEmail,label:\"Email\"}),/*#__PURE__*/_jsx(InputPhone,{value:phone,setValue:setPhone,label:\"Телефон\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:classNames(styles.button,styles.form_submit),children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\"})]});};","map":{"version":3,"names":["classNames","useState","useDispatch","useSelector","selectUserDataById","editUser","InputPhone","InputText","FormElem","styles","EditUserForm","togglePopup","id","resetSelectedRow","userData","state","dispatch","EMAIL","email","setEmail","NAME","name","setName","PHONE","phone","setPhone","onSubmit","event","preventDefault","idAccess","localStorage","userIdAccess","button","form_submit"],"sources":["D:/dev/uno/src/Components/EditUserForm/EditUserForm.jsx"],"sourcesContent":["import classNames from \"classnames\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { selectUserDataById } from \"../../store/Users/selectors\";\r\nimport { editUser } from \"../../store/Users/Thunks/editUser\";\r\nimport { InputPhone } from \"../../UI/InputPhone/InputPhone\";\r\nimport { InputText } from \"../../UI/InputText/InputText\";\r\nimport { FormElem } from \"../FormElem/FormElem\";\r\nimport styles from \"./styles.module.css\";\r\n\r\nexport const EditUserForm = ({ togglePopup, id, resetSelectedRow }) => {\r\n  const userData = useSelector((state) => selectUserDataById(state, { id }));\r\n  const dispatch = useDispatch();\r\n  const [email, setEmail] = useState(userData?.EMAIL ? userData.EMAIL : \"\");\r\n  const [name, setName] = useState(userData?.NAME ? userData.NAME : \"\");\r\n  const [phone, setPhone] = useState(userData?.PHONE ? userData.PHONE : \"\");\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    dispatch(\r\n      editUser({\r\n        idAccess: localStorage.userIdAccess / 1,\r\n        email,\r\n        name,\r\n        phone,\r\n        id,\r\n      })\r\n    );\r\n    resetSelectedRow();\r\n    togglePopup();\r\n  };\r\n\r\n  return (\r\n    <FormElem\r\n      onSubmit={onSubmit}\r\n      title={\"Редактирование пользователя\"}>\r\n      <InputText\r\n        value={name}\r\n        setValue={setName}\r\n        label={\"Наименование\"}\r\n      />\r\n      <InputText\r\n        value={email}\r\n        setValue={setEmail}\r\n        label={\"Email\"}\r\n      />\r\n      <InputPhone\r\n        value={phone}\r\n        setValue={setPhone}\r\n        label={\"Телефон\"}\r\n      />\r\n      <button\r\n        type=\"submit\"\r\n        className={classNames(styles.button, styles.form_submit)}>\r\n        Изменить данные\r\n      </button>\r\n    </FormElem>\r\n  );\r\n};\r\n"],"mappings":"gGAAA,MAAOA,WAAU,KAAM,YAAY,CACnC,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,kBAAkB,KAAQ,6BAA6B,CAChE,OAASC,QAAQ,KAAQ,mCAAmC,CAC5D,OAASC,UAAU,KAAQ,gCAAgC,CAC3D,OAASC,SAAS,KAAQ,8BAA8B,CACxD,OAASC,QAAQ,KAAQ,sBAAsB,CAC/C,MAAOC,OAAM,KAAM,qBAAqB,CAAC,wFAEzC,MAAO,IAAMC,aAAY,CAAG,QAAfA,aAAY,MAA8C,IAAxCC,YAAW,MAAXA,WAAW,CAAEC,EAAE,MAAFA,EAAE,CAAEC,gBAAgB,MAAhBA,gBAAgB,CAC9D,GAAMC,SAAQ,CAAGX,WAAW,CAAC,SAACY,KAAK,QAAKX,mBAAkB,CAACW,KAAK,CAAE,CAAEH,EAAE,CAAFA,EAAG,CAAC,CAAC,GAAC,CAC1E,GAAMI,SAAQ,CAAGd,WAAW,EAAE,CAC9B,cAA0BD,QAAQ,CAACa,QAAQ,SAARA,QAAQ,WAARA,QAAQ,CAAEG,KAAK,CAAGH,QAAQ,CAACG,KAAK,CAAG,EAAE,CAAC,wCAAlEC,KAAK,eAAEC,QAAQ,eACtB,eAAwBlB,QAAQ,CAACa,QAAQ,SAARA,QAAQ,WAARA,QAAQ,CAAEM,IAAI,CAAGN,QAAQ,CAACM,IAAI,CAAG,EAAE,CAAC,yCAA9DC,IAAI,eAAEC,OAAO,eACpB,eAA0BrB,QAAQ,CAACa,QAAQ,SAARA,QAAQ,WAARA,QAAQ,CAAES,KAAK,CAAGT,QAAQ,CAACS,KAAK,CAAG,EAAE,CAAC,yCAAlEC,KAAK,eAAEC,QAAQ,eAEtB,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,CAAIC,KAAK,CAAK,CAC1BA,KAAK,CAACC,cAAc,EAAE,CACtBZ,QAAQ,CACNX,QAAQ,CAAC,CACPwB,QAAQ,CAAEC,YAAY,CAACC,YAAY,CAAG,CAAC,CACvCb,KAAK,CAALA,KAAK,CACLG,IAAI,CAAJA,IAAI,CACJG,KAAK,CAALA,KAAK,CACLZ,EAAE,CAAFA,EACF,CAAC,CAAC,CACH,CACDC,gBAAgB,EAAE,CAClBF,WAAW,EAAE,CACf,CAAC,CAED,mBACE,MAAC,QAAQ,EACP,QAAQ,CAAEe,QAAS,CACnB,KAAK,CAAE,6BAA8B,wBACrC,KAAC,SAAS,EACR,KAAK,CAAEL,IAAK,CACZ,QAAQ,CAAEC,OAAQ,CAClB,KAAK,CAAE,cAAe,EACtB,cACF,KAAC,SAAS,EACR,KAAK,CAAEJ,KAAM,CACb,QAAQ,CAAEC,QAAS,CACnB,KAAK,CAAE,OAAQ,EACf,cACF,KAAC,UAAU,EACT,KAAK,CAAEK,KAAM,CACb,QAAQ,CAAEC,QAAS,CACnB,KAAK,CAAE,SAAU,EACjB,cACF,eACE,IAAI,CAAC,QAAQ,CACb,SAAS,CAAEzB,UAAU,CAACS,MAAM,CAACuB,MAAM,CAAEvB,MAAM,CAACwB,WAAW,CAAE,UAAC,uFAE5D,EAAS,GACA,CAEf,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}