{"ast":null,"code":"import{authSliceActions}from\"..\";export var authUserIfUserExist=function authUserIfUserExist(userData){return function(dispatch){var email=userData.email,password=userData.password;var options={method:\"POST\",headers:{\"Content-Type\":\"application/json;charset=utf-8\"},body:JSON.stringify({email:email,password:password})};dispatch(authSliceActions.startLoadingUser());fetch(\"https://wsuno.xyz/api/authUser\",options).then(function(res){return res.json();}).then(function(data){if(!data.OK){throw Error('Ошибка запроса на сервер');}else if(data.result.length===0){dispatch(authSliceActions.errorLoading({err:\"Пользователя не существует\"}));}else{dispatch(authSliceActions.login(data.result[0]));}}).catch(function(err){dispatch(authSliceActions.errorLoading({err:err}));});};};","map":{"version":3,"names":["authSliceActions","authUserIfUserExist","userData","dispatch","email","password","options","method","headers","body","JSON","stringify","startLoadingUser","fetch","then","res","json","data","OK","Error","result","length","errorLoading","err","login","catch"],"sources":["D:/dev/uno/src/store/Auth/Thunks/authUserIfUserExist.js"],"sourcesContent":["import { authSliceActions } from \"..\";\r\n\r\nexport const authUserIfUserExist = (userData) => (dispatch) => {\r\n  const { email, password } = userData;\r\n  const options = {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json;charset=utf-8\",\r\n    },\r\n    body: JSON.stringify({\r\n      email,\r\n      password,\r\n    }),\r\n  };\r\n  dispatch(authSliceActions.startLoadingUser());\r\n\r\n  fetch(\"https://wsuno.xyz/api/authUser\", options)\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      if (!data.OK) {\r\n        throw Error('Ошибка запроса на сервер')\r\n      }\r\n      else if (data.result.length === 0) {\r\n        dispatch(\r\n          authSliceActions.errorLoading({ err: \"Пользователя не существует\" })\r\n        );\r\n      } else {\r\n        dispatch(authSliceActions.login(data.result[0]));\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      dispatch(authSliceActions.errorLoading({ err }));\r\n    });\r\n};\r\n"],"mappings":"AAAA,OAASA,gBAAgB,KAAQ,IAAI,CAErC,MAAO,IAAMC,oBAAmB,CAAG,QAAtBA,oBAAmB,CAAIC,QAAQ,QAAK,UAACC,QAAQ,CAAK,CAC7D,GAAQC,MAAK,CAAeF,QAAQ,CAA5BE,KAAK,CAAEC,QAAQ,CAAKH,QAAQ,CAArBG,QAAQ,CACvB,GAAMC,QAAO,CAAG,CACdC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,gCAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBP,KAAK,CAALA,KAAK,CACLC,QAAQ,CAARA,QACF,CAAC,CACH,CAAC,CACDF,QAAQ,CAACH,gBAAgB,CAACY,gBAAgB,EAAE,CAAC,CAE7CC,KAAK,CAAC,gCAAgC,CAAEP,OAAO,CAAC,CAC7CQ,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,IAAI,EAAE,GAAC,CACzBF,IAAI,CAAC,SAACG,IAAI,CAAK,CACd,GAAI,CAACA,IAAI,CAACC,EAAE,CAAE,CACZ,KAAMC,MAAK,CAAC,0BAA0B,CAAC,CACzC,CAAC,IACI,IAAIF,IAAI,CAACG,MAAM,CAACC,MAAM,GAAK,CAAC,CAAE,CACjClB,QAAQ,CACNH,gBAAgB,CAACsB,YAAY,CAAC,CAAEC,GAAG,CAAE,4BAA6B,CAAC,CAAC,CACrE,CACH,CAAC,IAAM,CACLpB,QAAQ,CAACH,gBAAgB,CAACwB,KAAK,CAACP,IAAI,CAACG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAClD,CACF,CAAC,CAAC,CACDK,KAAK,CAAC,SAACF,GAAG,CAAK,CACdpB,QAAQ,CAACH,gBAAgB,CAACsB,YAAY,CAAC,CAAEC,GAAG,CAAHA,GAAI,CAAC,CAAC,CAAC,CAClD,CAAC,CAAC,CACN,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}