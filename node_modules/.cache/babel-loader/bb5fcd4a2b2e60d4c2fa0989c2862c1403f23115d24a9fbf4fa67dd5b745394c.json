{"ast":null,"code":"import classNames from\"classnames\";import{useSelector}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import{ROUTES}from\"../../assets/constants/Fixtires\";import{getDiffInMonths}from\"../../helpers/getDiffDates.ts\";import{separateAmount}from\"../../helpers/separateAmount.ts\";import{selectObjectFilters}from\"../../store/ObjectFilter/selectors\";import{selectObjectById}from\"../../store/Objects/selectors\";import{UserData}from\"../../Components/UserData/UserData\";import styles from\"./styles.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";export var ObjectDataContainer=function ObjectDataContainer(_ref){var id=_ref.id,selectedRow=_ref.selectedRow;var navigate=useNavigate();var object=useSelector(function(state){return selectObjectById(state,{id:id});});var filter=useSelector(function(state){return selectObjectFilters(state);});var data=[object.IDSRV,object.NAME,object.CITY,object.PHONE,object.DT,object.FRAN_NAME,object.AMOUNT?separateAmount(object.AMOUNT):0];var dataForFilter=object;var diffDates=getDiffInMonths({start:object.STARTDT,end:object.ENDDT});var filterTitles=Object.keys(filter);var getStyleByLeftMonths=function getStyleByLeftMonths(){if(diffDates<1){return styles.red;}if(diffDates===1){return styles.yellow;}if(diffDates>1){return styles.green;}};var isSelected=function isSelected(){return filterTitles.every(function(el){return dataForFilter[el].toString().toLowerCase().includes(filter[el].toString());});};if(isSelected()){return/*#__PURE__*/_jsx(\"tr\",{className:classNames(styles.table_row,getStyleByLeftMonths()),onDoubleClick:function onDoubleClick(){return navigate(ROUTES.objects+\"/\".concat(object.IDSRV));},children:/*#__PURE__*/_jsx(UserData,{data:data,selectedRow:selectedRow})});}else return null;};","map":{"version":3,"names":["classNames","useSelector","useNavigate","ROUTES","getDiffInMonths","separateAmount","selectObjectFilters","selectObjectById","UserData","styles","ObjectDataContainer","id","selectedRow","navigate","object","state","filter","data","IDSRV","NAME","CITY","PHONE","DT","FRAN_NAME","AMOUNT","dataForFilter","diffDates","start","STARTDT","end","ENDDT","filterTitles","Object","keys","getStyleByLeftMonths","red","yellow","green","isSelected","every","el","toString","toLowerCase","includes","table_row","objects"],"sources":["D:/dev/uno/src/Containers/ObjectDataContainer/ObjectDataContainer.js"],"sourcesContent":["import classNames from \"classnames\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { ROUTES } from \"../../assets/constants/Fixtires\";\r\nimport { getDiffInMonths } from \"../../helpers/getDiffDates.ts\";\r\nimport { separateAmount } from \"../../helpers/separateAmount.ts\";\r\nimport { selectObjectFilters } from \"../../store/ObjectFilter/selectors\";\r\nimport { selectObjectById } from \"../../store/Objects/selectors\";\r\nimport { UserData } from \"../../Components/UserData/UserData\";\r\nimport styles from \"./styles.module.css\";\r\n\r\nexport const ObjectDataContainer = ({ id, selectedRow }) => {\r\n  const navigate = useNavigate();\r\n  const object = useSelector((state) => selectObjectById(state, { id }));\r\n  const filter = useSelector((state) => selectObjectFilters(state));\r\n  const data = [\r\n    object.IDSRV,\r\n    object.NAME,\r\n    object.CITY,\r\n    object.PHONE,\r\n    object.DT,\r\n    object.FRAN_NAME,\r\n    object.AMOUNT ? separateAmount(object.AMOUNT) : 0,\r\n  ];\r\n  const dataForFilter = object;\r\n\r\n  const diffDates = getDiffInMonths({\r\n    start: object.STARTDT,\r\n    end: object.ENDDT,\r\n  });\r\n  const filterTitles = Object.keys(filter);\r\n\r\n  const getStyleByLeftMonths = () => {\r\n    if (diffDates < 1) {\r\n      return styles.red;\r\n    }\r\n    if (diffDates === 1) {\r\n      return styles.yellow;\r\n    }\r\n    if (diffDates > 1) {\r\n      return styles.green;\r\n    }\r\n  };\r\n\r\n  const isSelected = () => {\r\n    return filterTitles.every((el) => {\r\n      return dataForFilter[el]\r\n        .toString()\r\n        .toLowerCase()\r\n        .includes(filter[el].toString());\r\n    });\r\n  };\r\n  if (isSelected()) {\r\n    return (\r\n      <tr\r\n        className={classNames(styles.table_row, getStyleByLeftMonths())}\r\n        onDoubleClick={() => navigate(ROUTES.objects + `/${object.IDSRV}`)}>\r\n        <UserData\r\n          data={data}\r\n          selectedRow={selectedRow}\r\n        />\r\n      </tr>\r\n    );\r\n  } else return null;\r\n};\r\n"],"mappings":"AAAA,MAAOA,WAAU,KAAM,YAAY,CACnC,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,MAAM,KAAQ,iCAAiC,CACxD,OAASC,eAAe,KAAQ,+BAA+B,CAC/D,OAASC,cAAc,KAAQ,iCAAiC,CAChE,OAASC,mBAAmB,KAAQ,oCAAoC,CACxE,OAASC,gBAAgB,KAAQ,+BAA+B,CAChE,OAASC,QAAQ,KAAQ,oCAAoC,CAC7D,MAAOC,OAAM,KAAM,qBAAqB,CAAC,2CAEzC,MAAO,IAAMC,oBAAmB,CAAG,QAAtBA,oBAAmB,MAA4B,IAAtBC,GAAE,MAAFA,EAAE,CAAEC,WAAW,MAAXA,WAAW,CACnD,GAAMC,SAAQ,CAAGX,WAAW,EAAE,CAC9B,GAAMY,OAAM,CAAGb,WAAW,CAAC,SAACc,KAAK,QAAKR,iBAAgB,CAACQ,KAAK,CAAE,CAAEJ,EAAE,CAAFA,EAAG,CAAC,CAAC,GAAC,CACtE,GAAMK,OAAM,CAAGf,WAAW,CAAC,SAACc,KAAK,QAAKT,oBAAmB,CAACS,KAAK,CAAC,GAAC,CACjE,GAAME,KAAI,CAAG,CACXH,MAAM,CAACI,KAAK,CACZJ,MAAM,CAACK,IAAI,CACXL,MAAM,CAACM,IAAI,CACXN,MAAM,CAACO,KAAK,CACZP,MAAM,CAACQ,EAAE,CACTR,MAAM,CAACS,SAAS,CAChBT,MAAM,CAACU,MAAM,CAAGnB,cAAc,CAACS,MAAM,CAACU,MAAM,CAAC,CAAG,CAAC,CAClD,CACD,GAAMC,cAAa,CAAGX,MAAM,CAE5B,GAAMY,UAAS,CAAGtB,eAAe,CAAC,CAChCuB,KAAK,CAAEb,MAAM,CAACc,OAAO,CACrBC,GAAG,CAAEf,MAAM,CAACgB,KACd,CAAC,CAAC,CACF,GAAMC,aAAY,CAAGC,MAAM,CAACC,IAAI,CAACjB,MAAM,CAAC,CAExC,GAAMkB,qBAAoB,CAAG,QAAvBA,qBAAoB,EAAS,CACjC,GAAIR,SAAS,CAAG,CAAC,CAAE,CACjB,MAAOjB,OAAM,CAAC0B,GAAG,CACnB,CACA,GAAIT,SAAS,GAAK,CAAC,CAAE,CACnB,MAAOjB,OAAM,CAAC2B,MAAM,CACtB,CACA,GAAIV,SAAS,CAAG,CAAC,CAAE,CACjB,MAAOjB,OAAM,CAAC4B,KAAK,CACrB,CACF,CAAC,CAED,GAAMC,WAAU,CAAG,QAAbA,WAAU,EAAS,CACvB,MAAOP,aAAY,CAACQ,KAAK,CAAC,SAACC,EAAE,CAAK,CAChC,MAAOf,cAAa,CAACe,EAAE,CAAC,CACrBC,QAAQ,EAAE,CACVC,WAAW,EAAE,CACbC,QAAQ,CAAC3B,MAAM,CAACwB,EAAE,CAAC,CAACC,QAAQ,EAAE,CAAC,CACpC,CAAC,CAAC,CACJ,CAAC,CACD,GAAIH,UAAU,EAAE,CAAE,CAChB,mBACE,WACE,SAAS,CAAEtC,UAAU,CAACS,MAAM,CAACmC,SAAS,CAAEV,oBAAoB,EAAE,CAAE,CAChE,aAAa,CAAE,+BAAMrB,SAAQ,CAACV,MAAM,CAAC0C,OAAO,YAAO/B,MAAM,CAACI,KAAK,CAAE,CAAC,EAAC,uBACnE,KAAC,QAAQ,EACP,IAAI,CAAED,IAAK,CACX,WAAW,CAAEL,WAAY,EACzB,EACC,CAET,CAAC,IAAM,OAAO,KAAI,CACpB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}